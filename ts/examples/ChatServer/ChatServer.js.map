{"version":3,"file":"ChatServer.js","sourceRoot":"","sources":["ChatServer.ts"],"names":[],"mappings":"AAAA,4EAA4E;;;;;;;AAE5E,IAAO,EAAE,WAAW,mBAAmB,CAAC,CAAC;AAEzC,IAAU,OAAO,CAKhB;AALD,WAAU,OAAO;IAAC,IAAA,IAAI,CAKrB;IALiB,WAAA,IAAI,EACtB,CAAC;QACc,YAAO,GAAG,EAAE,CAAC,OAAO,CAAC;QACrB,eAAU,GAAG,EAAE,CAAC,UAAU,CAAC;QAC3B,aAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;IACtC,CAAC,EALiB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAKrB;AAAD,CAAC,EALS,OAAO,KAAP,OAAO,QAKhB;AAED;;oEAEoE;AACpE,IAAU,OAAO,CA0EhB;AA1ED,WAAU,OAAO;IAAC,IAAA,IAAI,CA0ErB;IA1EiB,WAAA,IAAI,EACtB,CAAC;QACA;YAAgC,8BAAuB;YAItD;gBAEC,iBAAO,CAAC;gBAER,IAAI,CAAC,KAAK,GAAG,IAAI,iBAAY,EAAE,CAAC;YACjC,CAAC;YAES,+BAAU,GAApB;gBAEC,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC3B,CAAC;YAEM,6BAAQ,GAAf;gBAEC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;YACnB,CAAC;YACF,iBAAC;QAAD,CAAC,AApBD,CAAgC,aAAQ,CAAC,OAAO,CAAC,MAAM,GAoBtD;QApBY,eAAU,aAoBtB,CAAA;QAED;YAA8B,4BAAqB;YAAnD;gBAA8B,8BAAqB;gBAE1C,SAAI,GAAW,EAAE,CAAC;YAW3B,CAAC;YATO,+BAAY,GAAnB;gBAEC,MAAM,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC;YAEM,0BAAO,GAAd;gBAEC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;YAClB,CAAC;YACF,eAAC;QAAD,CAAC,AAbD,CAA8B,aAAQ,CAAC,OAAO,CAAC,IAAI,GAalD;QAbY,aAAQ,WAapB,CAAA;QAED;YAAgC,8BAAuB;YAAvD;gBAAgC,8BAAuB;YAkCvD,CAAC;YAhCU,kCAAa,GAAvB,UAAwB,IAAY;gBAEnC,EAAE,CAAC,CAAC,IAAI,IAAI,MAAM,CAAC;oBAClB,MAAM,CAAC,IAAI,gBAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;oBACpC,MAAM,CAAC,IAAI,gBAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpC,IAAI;oBACH,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;YAEM,oCAAe,GAAtB;gBAEC,IAAI,EAAE,GAAW,IAAI,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC;gBAC7C,IAAI,IAAI,GAAY,IAAI,CAAC,OAAO,EAAe,CAAC,OAAO,EAAE,CAAC;gBAE1D,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;YACnE,CAAC;YAEO,0BAAK,GAAb,UAAc,EAAU,EAAE,IAAY;gBAErC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,IAAI,OAAO,CAAC;oBAC1C,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE,iCAAiC,CAAC,CAAC,CAAC;gBAC7F,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC;oBACnD,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE,mCAAmC,CAAC,CAAC,CAAC;gBAC/F,IAAI,CACJ,CAAC;oBACA,IAAI,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;oBAC9B,IAAI,CAAC,OAAO,EAAe,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;oBAE5C,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC;gBACzD,CAAC;YACF,CAAC;YACF,iBAAC;QAAD,CAAC,AAlCD,CAAgC,aAAQ,CAAC,OAAO,CAAC,MAAM,GAkCtD;QAlCY,eAAU,aAkCtB,CAAA;IACF,CAAC,EA1EiB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QA0ErB;AAAD,CAAC,EA1ES,OAAO,KAAP,OAAO,QA0EhB;AAED;;oEAEoE;AACpE,IAAU,OAAO,CA8HhB;AA9HD,WAAU,OAAO;IAAC,IAAA,IAAI,CA8HrB;IA9HiB,WAAA,IAAI,EACtB,CAAC;QACA;YAAiC,+BAAwB;YAExD,qBAAmB,MAAkB,EAAE,IAAY;gBAElD,kBAAM,MAAM,EAAE,IAAI,CAAC,CAAC;gBAEpB,2BAA2B;gBAC1B,IAAI,CAAC,SAAS,EAAiB,CAAC,eAAe,EAAE,CAAC;gBAEnD,mFAAmF;gBACnF,IAAI,CAAC,UAAU,EAAE,CAAC;gBAElB,4DAA4D;gBAC5D,IAAI,KAAK,GAAkB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,EAAiB,CAAC,QAAQ,EAAE,CAAC;gBAE5F,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,WAAW,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC5E,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;YAEM,gCAAU,GAAjB;gBAEC,IAAI,KAAK,GAAkB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,EAAiB,CAAC,QAAQ,EAAE,CAAC;gBAE5F,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,WAAW,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC/E,KAAK,CAAC,mBAAmB,CAAC,OAAO,EAAE,WAAW,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YAC/E,CAAC;YAEO,mCAAa,GAArB,UAAsB,KAAgE;gBAErF,mEAAmE;gBACnE,IAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC;YAEO,gCAAU,GAAlB;gBAEC,IAAI,KAAK,GAAkB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,EAAiB,CAAC,QAAQ,EAAE,CAAC;gBAE5F,IAAI,MAAM,GAAoB,IAAI,aAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;gBAChF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACvB,CAAC;YAEO,gCAAU,GAAlB,UAAmB,IAAY;gBAE9B,IAAI,KAAK,GAAkB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,EAAiB,CAAC,QAAQ,EAAE,CAAC;gBAE5F,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;YACF,kBAAC;QAAD,CAAC,AA/CD,CAAiC,aAAQ,CAAC,OAAO,CAAC,OAAO,GA+CxD;QA/CY,gBAAW,cA+CvB,CAAA;QAED;YAAiC,+BAAwB;YAIxD,qBAAmB,MAAkB,EAAE,IAAY;gBAElD,kBAAM,MAAM,EAAE,IAAI,CAAC,CAAC;gBAEpB,2BAA2B;gBAC1B,IAAI,CAAC,SAAS,EAAiB,CAAC,eAAe,EAAE,CAAC;gBAEnD,4BAA4B;gBAC5B,IACA,CAAC;oBACA,aAAa;oBACb,IAAI,KAAK,GAAkB,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,EAAiB,CAAC,QAAQ,EAAE,CAAC;oBAC5F,IAAI,GAAG,GAAW,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjD,IAAI,UAAU,GAAW,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC;oBAEjE,IAAI,IAAI,GAAa,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,CACjC,CAAC;wBACA,0BAA0B;wBAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBAEjB,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,qCAAqC,EAAE,OAAO,CAAC,CAAC,CAAC;oBAC7F,CAAC;oBACD,IAAI,CACJ,CAAC;wBACA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBAEjB,wDAAwD;wBACxD,4BAA4B;wBAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;oBACtC,CAAC;gBACF,CACA;gBAAA,KAAK,CAAC,CAAC,SAAS,CAAC,CACjB,CAAC;oBACA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBAClB,CAAC;YACF,CAAC;YAEM,gCAAU,GAAjB;gBAEC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC;oBACrB,MAAM,CAAC;gBAER,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;YAC1D,CAAC;YAEM,+BAAS,GAAhB,UAAiB,MAAuB;gBAEvC,sDAAsD;gBACtD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC;oBACrB,MAAM,CAAC;gBAER,gBAAK,CAAC,SAAS,YAAC,MAAM,CAAC,CAAC;YACzB,CAAC;YAEO,0BAAI,GAAZ,UAAa,OAAe;gBAE3B,IAAI,aAAa,GAAW,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC;gBAEpE,IAAI,MAAM,GAAoB,IAAI,aAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;gBACvF,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;YAEO,6BAAO,GAAf,UAAgB,EAAU,EAAE,OAAe;gBAE1C,IAAI,aAAa,GAAW,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC;gBAEpE,IAAI,MAAM,GAAoB,IAAI,aAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,aAAa,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;gBAC9F,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;YACF,kBAAC;QAAD,CAAC,AA1ED,CAAiC,aAAQ,CAAC,OAAO,CAAC,OAAO,GA0ExD;QA1EY,gBAAW,cA0EvB,CAAA;IACF,CAAC,EA9HiB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QA8HrB;AAAD,CAAC,EA9HS,OAAO,KAAP,OAAO,QA8HhB;AAED;;oEAEoE;AACpE,IAAU,OAAO,CA8FhB;AA9FD,WAAU,OAAO;IAAC,IAAA,IAAI,CA8FrB;IA9FiB,WAAA,IAAI,EACtB,CAAC;QACA;YAAkC,gCAA8C;YAAhF;gBAAkC,8BAA8C;gBAEvE,aAAQ,GAAW,CAAC,CAAC,CAAC,kCAAkC;YAyBjE,CAAC;YAvBA,qBAAqB;YAEd,iCAAU,GAAjB,UAAkB,IAAY;gBAE7B,IAAI,GAAG,GAAW,EAAE,IAAI,CAAC,QAAQ,CAAC;gBAElC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YAChE,CAAC;YAEM,4BAAK,GAAZ;gBAEC,aAAa;gBACb,mBAAmB;gBACnB,mBAAmB;gBACnB,cAAc;gBACd,IAAI,GAAG,GAAgB,IAAI,YAAO,CAAC,GAAG,EAAE,CAAC;gBACzC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAEvB,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE;oBACnE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;gBAE7B,MAAM,CAAC,GAAG,CAAC;YACZ,CAAC;YACF,mBAAC;QAAD,CAAC,AA3BD,CAAkC,eAAU,CAAC,iBAAiB,GA2B7D;QA3BY,iBAAY,eA2BxB,CAAA;QAED;YACS,4BAAiD;YAOzD,kBAAmB,KAAmB,EAAE,GAAW,EAAE,IAAY;gBAEhE,iBAAO,CAAC;gBAER,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBAEjB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACxE,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACxE,CAAC;YAEO,gCAAa,GAArB,UAAsB,KAAgE;gBAErF,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,CAClD,CAAC;oBACA,4CAA4C;oBAC5C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC3B,MAAM,CAAC;gBACR,CAAC;gBAED,IAAI,MAAM,GAAoB,IAAI,aAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3E,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACvB,CAAC;YAEM,2BAAQ,GAAf,UAAgB,MAAuB;gBAEtC,kCAAkC;gBAClC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE;oBACnE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC7B,CAAC;YAEM,wBAAK,GAAZ;gBAEC,yCAAyC;gBACzC,sDAAsD;gBACtD,qDAAqD;gBACrD,UAAU;gBACV,IAAI,GAAG,GAAgB,IAAI,YAAO,CAAC,GAAG,EAAE,CAAC;gBACzC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACnB,GAAG,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;gBACtC,GAAG,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEnC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EACpE,CAAC;oBACA,IAAI,WAAW,GAAgB,IAAI,YAAO,CAAC,GAAG,EAAE,CAAC;oBACjD,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBAClC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;oBAC5E,WAAW,CAAC,WAAW,CAAC,MAAM,EAAG,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,EAAe,CAAC,OAAO,EAAE,CAAC,CAAC;oBAEzF,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvB,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC;YACZ,CAAC;YACF,eAAC;QAAD,CAAC,AA9DD,CACS,eAAU,CAAC,iBAAiB,GA6DpC;QA9DY,aAAQ,WA8DpB,CAAA;IACF,CAAC,EA9FiB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QA8FrB;AAAD,CAAC,EA9FS,OAAO,KAAP,OAAO,QA8FhB;AAED;;oEAEoE;AACpE,IAAU,OAAO,CAOhB;AAPD,WAAU,OAAO;IAAC,IAAA,IAAI,CAOrB;IAPiB,WAAA,IAAI,EACtB,CAAC;QACA;YAEC,IAAI,MAAM,GAAe,IAAI,eAAU,EAAE,CAAC;YAC1C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpB,CAAC;QAJe,SAAI,OAInB,CAAA;IACF,CAAC,EAPiB,IAAI,GAAJ,YAAI,KAAJ,YAAI,QAOrB;AAAD,CAAC,EAPS,OAAO,KAAP,OAAO,QAOhB;AAED,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC"}